# Генератор QR-кодов

[![Python Version](https://img.shields.io/badge/python-3.7+-blue.svg)](https://www.python.org/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![ISO/IEC 18004](https://img.shields.io/badge/ISO%2FIEC-18004-green.svg)](https://www.iso.org/standard/62021.html)

Комплексная кроссплатформенная библиотека генератора QR-кодов, написанная на Python с нуля, реализующая стандарт ISO/IEC 18004 с полными возможностями коррекции ошибок.

## Возможности

- ✅ **Полная совместимость с ISO/IEC 18004**: Реализует полный стандарт QR-кода
- ✅ **Коррекция ошибок**: Поддерживает все уровни коррекции ошибок (L, M, Q, H)
- ✅ **Множественные режимы кодирования**: Числовой, Алфавитно-цифровой, Байтовый и Канji
- ✅ **Поддержка версий**: QR-коды версий 1-40
- ✅ **Кроссплатформенность**: Работает на Windows, macOS, Linux
- ✅ **Множественные форматы вывода**: PNG
- ✅ **Масштабирование и границы**: Настраиваемый размер и границы
- ✅ **Коррекция ошибок Рида-Соломона**: Реализована с нуля
- ✅ **Арифметика поля Галуа**: Собственная реализация GF(256)
- ✅ **Оптимизация масок**: Автоматический выбор лучшей маски

## Установка

### Из PyPI (когда будет доступно)

```bash
pip install qrcode-generator-lib
```

### Из исходного кода

```bash
git clone https://github.com/your-repo/qrcode-generator-lib.git
cd qrcode-generator-lib
pip install -e .
```

### Требования

- Python 3.7+
- Pillow (для вывода PNG)

## Быстрый старт

```python
from qrcode_generator import QRCode, ErrorCorrectionLevel

# Создание базового QR-кода
qr = QRCode("Hello, World!", ErrorCorrectionLevel.M)

# Сохранение как PNG
qr.save_png("hello_world.png")

# Сохранение с пользовательскими опциями
qr.save_png("custom_qr.png",
           scale=10,
           border=4)
```


### Различные уровни коррекции ошибок

```python
from qrcode_generator import QRCode, ErrorCorrectionLevel

# Низкая коррекция ошибок (7% восстановления)
qr_low = QRCode("Data", ErrorCorrectionLevel.L)

# Средняя коррекция ошибок (15% восстановления) - рекомендуется
qr_medium = QRCode("Data", ErrorCorrectionLevel.M)

# Квартильная коррекция ошибок (25% восстановления)
qr_quartile = QRCode("Data", ErrorCorrectionLevel.Q)

# Высокая коррекция ошибок (30% восстановления)
qr_high = QRCode("Data", ErrorCorrectionLevel.H)
```

### форматы вывода

```python
# Формат PNG
qr.save_png("qrcode.png", scale=20, border=4)
```

### Возможности реализации

- **Коды Рида-Соломона**: Полная реализация для коррекции ошибок
- **Поле Галуа GF(256)**: Собственная реализация арифметики
- **Кодирование данных**: Поддержка всех режимов кодирования ISO/IEC 18004
- **Маскирование**: Все 8 шаблонов масок с автоматическим выбором
- **Определение версии**: Автоматический выбор версии на основе размера данных
- **Чередование**: Правильное чередование данных и кодов ошибок

### Версии QR-кодов

Библиотека поддерживает все версии QR-кодов (1-40):

- **Версия 1-9**: 21×21 до 53×53 модулей
- **Версия 10-26**: 57×57 до 121×121 модулей
- **Версия 27-40**: 125×125 до 177×177 модулей

### Возможности коррекции ошибок

| Уровень | Восстановление | Применение |
|---------|---------------|------------|
| L | 7% | Чистые среды |
| M | 15% | Общее использование (рекомендуется) |
| Q | 25% | Загрязненные среды |
| H | 30% | Максимальная надежность |

## Интерфейс командной строки

```bash
# Генерация QR-кода из командной строки
qrcode-gen "Hello World" -o hello.png

# С пользовательскими опциями
qrcode-gen "Hello World" -o hello.png --scale 20 --border 4 --level H
```

## Архитектура

```
qrcode_generator/
├── __init__.py          # Основные экспорты
├── core.py             # Основная генерация QR-кода
├── encoder.py          # Логика кодирования данных
├── error_correction.py # Реализация Рида-Соломона
├── matrix.py           # Генерация матрицы QR
├── cli.py             # Интерфейс командной строки
└── constants.py       # Константы ISO/IEC 18004
```

## Тестирование

Запуск набора тестов:

```bash
pytest
```

Запуск с покрытием:

```bash
pytest --cov=qrcode_generator --cov-report=html
```

## Производительность

Библиотека оптимизирована для производительности:

- Эффективные операции поля Галуа
- Быстрая оценка шаблонов масок
- Эффективные по памяти операции с матрицами
- Поддержка больших QR-кодов (версия 40)

## Соответствие стандартам

Эта библиотека полностью реализует стандарт ISO/IEC 18004:2015:

- ✅ Кодирование данных (режимы: Числовой, Алфавитно-цифровой, Байтовый, Kanji)
- ✅ Кодирование коррекции ошибок (Рид-Соломон)
- ✅ Размещение модулей (шаблоны поиска, шаблоны выравнивания, синхронизирующие шаблоны)
- ✅ Маскирование и выбор шаблона маски
- ✅ Информация о формате и версии
- ✅ Структура символа и расчет размера

## Содействие

Вклад приветствуется! Пожалуйста, не стесняйтесь отправить Pull Request.

1. Форкните репозиторий
2. Создайте вашу ветку функций (`git checkout -b feature/AmazingFeature`)
3. Зафиксируйте изменения (`git commit -m 'Add some AmazingFeature'`)
4. Отправьте в ветку (`git push origin feature/AmazingFeature`)
5. Откройте Pull Request

## Лицензия

Этот проект лицензирован под лицензией MIT - подробности см. в файле [LICENSE](LICENSE).

## Благодарности

- ISO/IEC 18004:2015 Information technology — Automatic identification and data capture techniques — QR Code bar code symbology specification
- Оригинальные исследования и реализация автора
- Спасибо сообществу открытого исходного кода за вдохновение и тестирование

## Ссылки

- [ISO/IEC 18004:2015](https://www.iso.org/standard/62021.html)
- [QR Code Wikipedia](https://en.wikipedia.org/wiki/QR_code)
- [Коррекция ошибок Рида-Соломона](https://en.wikipedia.org/wiki/Reed%E2%80%93Solomon_error_correction)